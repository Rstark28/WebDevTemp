<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Tic Tac Tango</title>
    <link rel="stylesheet" href="static/css/ttt.css">
</head>

<body>

    <h1>The Tic Tac Tango</h1>
    <div id="turn">Start The Game To Play</div>

    <script>
        const NUM_SQUARES = 9;

        document.write('<div class="board">');
        for (let i = 0; i < NUM_SQUARES; i++) {
            let id = "sq" + i;
            document.write("<div class='square' id='" + id + "'></div>");
        }
        document.write('</div>');
    </script>

    <div id="condition">No Winner Yet</div>
    <button id="start-game">Start Game</button>

    <script>
        function resetBoard() {
            currPlayer = Math.random() < 0.5 ? 'X' : 'O';
            document.getElementById('turn').innerText = `${currPlayer}'s Turn`;
            for (let i = 0; i < NUM_SQUARES; i++) {
                document.getElementById('sq' + i).innerText = '';
            }
        }

        function makeMove(event) {
            let square = event.target;
            if (square.innerText === '') {
                square.innerText = currPlayer;
                alert(`Square ${square.id.replace('sq', '')} clicked`);
                changeTurn();
            }

        }

        function changeTurn() {
            currPlayer = currPlayer === 'X' ? 'O' : 'X';
            document.getElementById('turn').innerText = `${currPlayer}'s Turn`;
        }

        document.getElementById('start-game').onclick = function () {
            for (let i = 0; i < NUM_SQUARES; i++) {
                document.getElementById('sq' + i).addEventListener('click', makeMove);
            }
            resetBoard();
        };
    </script>

</body>

</html>